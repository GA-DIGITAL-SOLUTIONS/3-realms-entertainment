{% load static %}
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>3 Realms-Home</title>
		<link rel="shortcut icon" type="image/png" href="{% get_media_prefix %}favicon.png" >
		<link
			rel="stylesheet"
			href="https://unpkg.com/swiper/swiper-bundle.min.css" />
		<style>
			/* Slideshow styles */
			.slideshow-container {
				max-width: 1920px;
				position: relative;
				margin: auto;
				overflow: hidden;
				height: 600px;
			}

			.slide {
				display: none;
				text-align: center;
				position: relative;
				height: 600px;
				background-size: cover;
				background-position: center;
			}

			.content {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				color: white;
				text-align: center;
			}

			.content h2 {
				font-size: 24px;
				margin-bottom: 10px;
			}

			.content p {
				font-size: 16px;
				margin-bottom: 20px;
			}

			.button {
				display: inline-block;
				padding: 10px 20px;
				background-color: #4caf50;
				color: white;
				text-decoration: none;
				font-size: 16px;
				border: none;
				cursor: pointer;
			}

			.prev,
			.next {
				cursor: pointer;
				position: absolute;
				top: 50%;
				transform: translateY(-50%);
				padding: 16px;
				background-color: rgba(0, 0, 0, 0.5);
				color: white;
				font-weight: bold;
				font-size: 20px;
				transition: background-color 0.3s;
				z-index: 1;
			}

            .latest-movie-cont{
                padding:20px;
            }

            .latest-movie-cont h2{
                color:white;
                padding:20px;
                background:orange;
                width:max-content;
                border-radius:20px;
            }
			.prev {
				left: 10px;
			}

			.next {
				right: 10px;
			}

			/* Box styles */
			body {
				font-family: Arial, sans-serif;
				margin: 0;
				padding: 0;
                background-color: #191717 !important;
			}

			

			.box {
				width: 23%;
				height: 300px;
				margin-bottom: 20px;
				position: relative;
				overflow: hidden;
				cursor: pointer;
			}

			.box:hover .overlay {
				opacity: 1;
				transform: translateY(0);
			}

			.box .overlay {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: rgba(0, 0, 0, 0.6);
				color: #fff;
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
				opacity: 0;
				transform: translateY(100%);
				transition: all 0.3s ease;
			}

			.box .overlay h3,
			.box .overlay p,
			.box .overlay a {
				margin: 0 0 10px 0;
				text-align: center;
			}

			

			.box:hover img {
				transform: scale(1.1);
			}

			.swiper-container {
				width: 100%;
				padding: 20px;
			}

			.swiper-slide {
				text-align: center;
				font-size: 18px;
				background: #fff;
			}

			.movies-container {
                width:calc(100% - 40px);
				display: flex;
				overflow-x: hidden;
				-webkit-overflow-scrolling: touch;
				scroll-behavior: smooth;
			}

			.box {
				flex: 0 0 auto;
				scroll-snap-align: start;
				width: 300px !important;
				height: 400px !important;
				margin-right: 20px;
			}

            .box img {
				width: 300px;
				height: 400px;
                object-fit: contain;
				transition: transform 0.3s ease;
			}

			.movie-item {
				border: 1px solid #ccc;
				padding: 30px 10px;
				margin-bottom: 20px;
				background-color: #fff;
			}
			.movie-item img {
				width: 100%;
				height: auto;
			}
			.movie-item h2 {
				margin-top: 0;
				text-align: center !important;
				color:black !important;
				background: None;
			}
			.movie-item p {
				margin-bottom: 0;
				text-align: center;
				color:black !important;
			}
			@media screen and (max-width: 768px) {
				.movies-container {
					display: block;
					white-space: nowrap;
					overflow-x: auto;
					overflow-y: hidden;
				}

				.box {
					display: inline-block;
					width: 80%; /* Adjust width for mobile layout */
					margin-right: 10px; /* Adjust spacing */
					vertical-align: top;
				}
			}
		</style>
	</head>
	<body>
		{% include "header.html" with active_page="home" %}
		<div class="slideshow-container">
			<div
				class="slide"
				style="
					background-image: url('{% get_media_prefix %}banners/banner1.jpg');
				">
				<div class="content">
					<h2>Slide 1 Content</h2>
					<p>This is the content of slide 1.</p>
					<a href="page1.html" class="button">Learn More</a>
				</div>
			</div>

			<div
				class="slide"
				style="
					background-image: url('{% get_media_prefix %}banners/banner2.jpg');
				">
				<div class="content">
					<h2>Slide 2 Content</h2>
					<p>This is the content of slide 2.</p>
					<a href="page2.html" class="button">Discover More</a>
				</div>
			</div>

			<div
				class="slide"
				style="
					background-image: url('{% get_media_prefix %}banners/banner3.jpg');
				">
				<div class="content">
					<h2>Slide 3 Content</h2>
					<p>This is the content of slide 3.</p>
					<a href="page3.html" class="button">Explore More</a>
				</div>
			</div>

			<a class="prev" onclick="changeSlide(-1)">&#10094;</a>
			<a class="next" onclick="changeSlide(1)">&#10095;</a>
		</div>
        
        <div class="latest-movie-cont">
            <h2>Latest Movies</h2>
            <div class="movies-container swiper-container">
                
                <div class="swiper-wrapper">

                    {% for movie in movies %}
                    <div class="swiper-slide box">
                        <img src="{{ movie.image.url }}" alt="{{ movie.title }}" />
                        <div class="overlay">
                            <h3>{{ movie.title }}</h3>
                            <p>{{ movie.description }}</p>
                            <a href="{{ movie.trailer_link }}" class="watch-now">Watch Now</a>
                            <a href="{% url 'movie_synopsis' movie.id %}" class="book-now"
                                >Book Now</a
                            >
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
    	</div>

        <div class="counter">{% include "counter.html" %}</div>
        <div class="latest-movie-cont">
            <h2>Upcoming Movies</h2>
            <div class="movies-container swiper-container">
                
                <div class="swiper-wrapper">
					{% for movie in upmovies %}
						
							<div class="swiper-slide movie-item">
								<center><h2>{{movie.title}}</h2></center>
								<img src="{{ movie.image.url }}" alt="{{ movie.title }}" />
								<p>{{ movie.releasedate|default:'-' }}</p>
							</div>
						
					{% endfor %}
                    
                </div>
            </div>
    	</div>
    	<div class="footer">{% include "footer.html" %}</div>
    </div>

		<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
		<script>
			let slideIndex = 1;
			showSlide(slideIndex);

			function changeSlide(n) {
				showSlide((slideIndex += n));
			}

			function currentSlide(n) {
				showSlide((slideIndex = n));
			}

			function showSlide(n) {
				let slides = document.getElementsByClassName("slide");
				if (n > slides.length) {
					slideIndex = 1;
				}
				if (n < 1) {
					slideIndex = slides.length;
				}
				for (let i = 0; i < slides.length; i++) {
					slides[i].style.display = "none";
				}
				slides[slideIndex - 1].style.display = "block";
			}

			var swiper = new Swiper(".swiper-container", {
				slidesPerView: 4,
				spaceBetween: 20,
				loop: true,
				autoplay: {
					delay: 1500,
					disableOnInteraction: false,
				},
			});

			if (window.innerWidth <= 768) {
				swiper.params.slidesPerView = 1;
				swiper.update();
			}
		</script>
	</body>
</html>
