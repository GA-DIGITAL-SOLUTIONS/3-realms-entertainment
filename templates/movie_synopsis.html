a<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Movie Synopsis</title>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
		<style>
			body {
				background-color: #191717 !important;
				color: #fff;
			}
			.container {
				padding: 50px;
				color: white !important;
			}
			.movie-image img {
				max-width: 100%;
				height: auto;
				border-radius: 5px;
			}
			.movie-details {
				display: flex;
				align-items: center;
				
			}
			.movie-info {
				display:flex;
				flex-direction: row;
				align-items: center;
				gap:10px;
			}
			.movie-info p {
				margin: 0;
				text-align: left;
			}
			.movie-info .icon {
				font-size: 20px;
				text-align: right !important;
			}
			.button {
				display: inline-block;
				padding: 10px 20px;
				background-color: #f68d2e;
				color: #fff;
				text-decoration: none;
				border-radius: 5px;
				margin-top: 20px;
			}
			.theatre-container {
				display: flex;
				justify-content: space-between;
				margin: 20px 0;
			}
			
			.book-now-button {
				display: inline-block;
				padding: 10px 20px;
				background-color: #007bff;
				color: #fff;
				text-decoration: none;
				border-radius: 5px;
				margin-top: 10px;
			}
			.city,
			.show-time,
			.theatre {
				color: black;
			}

			.modal {
				display: none;
				position: fixed;
				z-index: 9999;
				left: 0;
				top: 0;
				width: 60vw;
				height: 80vh;
				overflow: auto;
				background-color: rgba(0, 0, 0, 0.7);
			}

			.modal-content {
				background-color: #fefefe;
				margin: 10% auto;
				padding: 20px;
				border: 1px solid #888;
				width: 60vw !important;
                height: 70%  !important;
			}

            .modal-content iframe{
                width: calc(60vw - 40px) !important;
                height: 100%  !important;
            }




			.close {
				color: #aaa;
				float: right;
				font-size: 28px;
				font-weight: bold;
			}

			.close:hover,
			.close:focus {
				color: black;
				text-decoration: none;
				cursor: pointer;
			}
			.banner {
				position: relative;
				margin-bottom: 50px;
				padding: 0px;
				margin: 0px 0px 50px 0px;
			}
			.banner img {
				width: 100%;
				height: auto;
				padding: 0px;
				margin: 0px;
			}
			.banner-text {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				text-align: center;
				color: white;
				width: 100%;
			}
			.banner-text h1 {
				margin: 0;
				font-size: 36px;
			}

            @media(max-width:768px) {
                .movies-cont {
				display: grid;
                grid-template-columns: 1fr;
			}
            .modal-content {
				background-color: #fefefe;
				margin: 10% auto;
				padding: 20px;
				border: 1px solid #888;
				width: 90vw !important;
                height: 40%  !important;
			}

            .modal-content iframe{
                width: calc(90vw - 40px) !important;
                height: 100%  !important;
            }
            }

			
			.theaters-list{
				margin:50px;
				display: flex;
				gap: 20px;
			}

			.filter-dropdown select{
				width:150px;
				height:40px;
				border-radius:5px;
			}

			.filter-dropdown button{
				display: inline-block;
				padding: 5px 15px;
				height:45px !important;
				background-color: #f68d2e;
				color: #fff;
				text-decoration: none;
				border-radius: 10px;
				margin-top: 20px;
			}

			.theatre-column {
				width: 300px;
				text-align: left;
				background-color: #f8f9fa;
				padding: 20px;
				border-radius: 10px;
				color: black;
			}
			.theatre-column img {
				width: 100%;
				height: 100px;
				border-radius: 5px;
				margin-bottom:10px;
			}

			.theatre-column a{
				display:flex;
				justify-content:left;
				align-items:left;
				border: 1px solid #df6d25;
				margin:5px;
				padding: 5px;
				border-radius: 10px;
				color: #df6d25;
				list-style:none;
				text-align:left;
			}



			.theatre-column a:hover{
				background-color:#df6d25;
				color:white;
			}

			@media (max-width: 768px){
				.movie-details{
					flex-direction: column;
					align-items:start;
					gap:15px;
				}
				.theaters-list{
				margin:10px;
				display: flex;
				flex-direction: column;
				gap: 20px;
			}
			}
			
		</style>
	</head>
	<body>
		{% include "header.html" with active_page="" %}
		<div class="container">
			<div class="row">
				<div class="col-md-6">
					<div class="movie-image">
						<img src="{{ movie.image.url }}" alt="{{ movie.title }}" />
					</div>
				</div>
				<div class="col-md-6">
					<h1 class="text-left">{{ movie.title }}</h1>
					<div class="movie-details">
						<div class="movie-info">
							<i class="fas fa-film icon"></i>
							<p class="movie-info">{{ movie.genere }}</p>
						</div>
						<div class="movie-info">
							<i class="fas fa-clock icon"></i>
							<p>{{ movie.runtime }} Hrs</p>
						</div>
						<div class="movie-info">
							<i class="far fa-calendar-alt icon"></i>
							<p>{{ movie.release_date }}</p>
						</div>
					</div>
					<div class="text-left mt-4">
						<p>{{ movie.description }}</p>
					</div>
					<div class="text-left mt-4">
						<h4>Cast:</h4>
						<p><strong>Actor:</strong> {{ movie.actor }}</p>
						<p><strong>Actress:</strong> {{ movie.actress }}</p>
						<p><strong>Director:</strong> {{ movie.director }}</p>
					</div>
					<div class="text-left mt-4">
						<h4>Language: </h4>
						<p><strong>Audio Language:</strong> {{ movie.language }}</p>
						<p><strong>Subtitle Language:</strong> {{ movie.subtitle_language }}</p>
					</div>
					<div class="text-left mt-4">
						<a
							href="#"
							class="button"
							onclick="openModal('{{ movie.trailer_link }}')"
							>Watch Now</a
						>

						<a href="#" class="button">Buy Now</a>
					</div>
				</div>
			</div>
		</div>
		<div id="myModal" class="modal">
			<div class="modal-content">
				<span class="close" onclick="closeModal()">&times;</span>
				<iframe
					id="videoPlayer"
					src=""
					frameborder="0"
					allowfullscreen></iframe>
			</div>
		</div>
		<div class="container">
			<div class="filter-dropdown">
				<form method="GET" action="{% url 'movie_synopsis' movie.id %}">
					<label for="location-filter">Filter by Location:</label><br>
					<select id="location-filter" name="location">
						<option value="">All Locations</option>
						{% for location in locations %}
						<option value="{{ location }}">{{ location }}</option>
						{% endfor %}
					</select>
					<button type="submit">Apply Filter</button>
				</form>
			</div>

			<div class="theaters-list">
				{% for theater in theaters %}
				<div class="theatre-column">
					<img src="{{ theater.image.url }}" alt="theater image" />
					<h4>{{ theater.name }}</h4>
					<p>Location: {{ theater.location }}</p>
					<h5>Showtimes:</h5>
					<div class="showtimes">
					<center><ul>
						{% for showtime in theater.showtimes.all %}
						<a href="{{showtime.booking_link}}"><li>{{ showtime.time }}</li></a>
						{% endfor %}
					</ul></center>
				</div>
				</div>
				{% endfor %}
			</div>
		</div>

		<script src="https://kit.fontawesome.com/a076d05399.js"></script>
		<script>
			function openModal(videoUrl) {
				var modal = document.getElementById("myModal");
				var videoPlayer = document.getElementById("videoPlayer");

				videoPlayer.src = videoUrl;

				modal.style.display = "block";
			}

			function closeModal() {
				var modal = document.getElementById("myModal");
				var videoPlayer = document.getElementById("videoPlayer");

				videoPlayer.src = "";
				modal.style.display = "none";
			}
		</script>
	</body>
</html>
